From 0e15cabd09b679ce694b0a5e86092e3669b71862 Mon Sep 17 00:00:00 2001
From: Dom Cobley <popcornmix@gmail.com>
Date: Wed, 15 Jun 2022 14:58:46 +0100
Subject: [PATCH] Revert "bcm2711_thermal: Don't clamp temperature at zero"

This reverts commit 117678e1119f7fade8ee3bf740c3537eeb41036b.
---
 drivers/thermal/broadcom/bcm2711_thermal.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/thermal/broadcom/bcm2711_thermal.c b/drivers/thermal/broadcom/bcm2711_thermal.c
index 6e2ff710b2ec..9f5a1eba4238 100644
--- a/drivers/thermal/broadcom/bcm2711_thermal.c
+++ b/drivers/thermal/broadcom/bcm2711_thermal.c
@@ -52,7 +52,7 @@ static int bcm2711_get_temp(void *data, int *temp)
 	/* Convert a HW code to a temperature reading (millidegree celsius) */
 	t = slope * val + offset;
 
-	*temp = t;
+	*temp = t < 0 ? 0 : t;
 
 	return 0;
 }
-- 
2.32.0

