From eed2fd58a1aeb9e5d9b02f8525753a2145b94ba5 Mon Sep 17 00:00:00 2001
From: Phil Elwell <phil@raspberrypi.com>
Date: Wed, 20 Jul 2022 14:53:42 +0100
Subject: [PATCH] configs: Enable IIO software trigger modules

See: https://github.com/raspberrypi/linux/issues/4984

Signed-off-by: Phil Elwell <phil@raspberrypi.com>
---
 arch/arm/configs/bcm2709_defconfig   | 4 ++++
 arch/arm/configs/bcm2711_defconfig   | 4 ++++
 arch/arm/configs/bcmrpi_defconfig    | 4 ++++
 arch/arm64/configs/bcm2711_defconfig | 4 ++++
 arch/arm64/configs/bcmrpi3_defconfig | 4 ++++
 5 files changed, 20 insertions(+)

diff --git a/arch/arm/configs/bcm2709_defconfig b/arch/arm/configs/bcm2709_defconfig
index 9e8a503516ba..3feeff8f2618 100644
--- a/arch/arm/configs/bcm2709_defconfig
+++ b/arch/arm/configs/bcm2709_defconfig
@@ -1373,6 +1373,7 @@ CONFIG_BCM2835_MBOX=y
 CONFIG_RASPBERRYPI_POWER=y
 CONFIG_IIO=m
 CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_SW_TRIGGER=m
 CONFIG_MCP320X=m
 CONFIG_MCP3422=m
 CONFIG_TI_ADS1015=m
@@ -1389,6 +1390,9 @@ CONFIG_APDS9960=m
 CONFIG_BH1750=m
 CONFIG_TSL4531=m
 CONFIG_VEML6070=m
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
 CONFIG_BMP280=m
 CONFIG_MAXIM_THERMOCOUPLE=m
 CONFIG_MAX31856=m
diff --git a/arch/arm/configs/bcm2711_defconfig b/arch/arm/configs/bcm2711_defconfig
index 35324d1a2ec5..ab965805c393 100644
--- a/arch/arm/configs/bcm2711_defconfig
+++ b/arch/arm/configs/bcm2711_defconfig
@@ -1396,6 +1396,7 @@ CONFIG_BCM2835_MBOX=y
 CONFIG_RASPBERRYPI_POWER=y
 CONFIG_IIO=m
 CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_SW_TRIGGER=m
 CONFIG_MCP320X=m
 CONFIG_MCP3422=m
 CONFIG_TI_ADS1015=m
@@ -1412,6 +1413,9 @@ CONFIG_APDS9960=m
 CONFIG_BH1750=m
 CONFIG_TSL4531=m
 CONFIG_VEML6070=m
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
 CONFIG_BMP280=m
 CONFIG_MAXIM_THERMOCOUPLE=m
 CONFIG_MAX31856=m
diff --git a/arch/arm/configs/bcmrpi_defconfig b/arch/arm/configs/bcmrpi_defconfig
index 789c6bf05bd3..3594029c10a2 100644
--- a/arch/arm/configs/bcmrpi_defconfig
+++ b/arch/arm/configs/bcmrpi_defconfig
@@ -1366,6 +1366,7 @@ CONFIG_BCM2835_MBOX=y
 CONFIG_RASPBERRYPI_POWER=y
 CONFIG_IIO=m
 CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_SW_TRIGGER=m
 CONFIG_MCP320X=m
 CONFIG_MCP3422=m
 CONFIG_TI_ADS1015=m
@@ -1382,6 +1383,9 @@ CONFIG_APDS9960=m
 CONFIG_BH1750=m
 CONFIG_TSL4531=m
 CONFIG_VEML6070=m
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
 CONFIG_BMP280=m
 CONFIG_MAXIM_THERMOCOUPLE=m
 CONFIG_MAX31856=m
diff --git a/arch/arm64/configs/bcm2711_defconfig b/arch/arm64/configs/bcm2711_defconfig
index 1690de23a254..7022ad567a97 100644
--- a/arch/arm64/configs/bcm2711_defconfig
+++ b/arch/arm64/configs/bcm2711_defconfig
@@ -1407,6 +1407,7 @@ CONFIG_BCM2835_MBOX=y
 CONFIG_RASPBERRYPI_POWER=y
 CONFIG_IIO=m
 CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_SW_TRIGGER=m
 CONFIG_MCP320X=m
 CONFIG_MCP3422=m
 CONFIG_TI_ADS1015=m
@@ -1423,6 +1424,9 @@ CONFIG_APDS9960=m
 CONFIG_BH1750=m
 CONFIG_TSL4531=m
 CONFIG_VEML6070=m
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
 CONFIG_BMP280=m
 CONFIG_MAXIM_THERMOCOUPLE=m
 CONFIG_MAX31856=m
diff --git a/arch/arm64/configs/bcmrpi3_defconfig b/arch/arm64/configs/bcmrpi3_defconfig
index a70aa7cac783..9787988e3d45 100644
--- a/arch/arm64/configs/bcmrpi3_defconfig
+++ b/arch/arm64/configs/bcmrpi3_defconfig
@@ -1309,6 +1309,7 @@ CONFIG_BCM2835_MBOX=y
 CONFIG_RASPBERRYPI_POWER=y
 CONFIG_IIO=m
 CONFIG_IIO_BUFFER_CB=m
+CONFIG_IIO_SW_TRIGGER=m
 CONFIG_MCP320X=m
 CONFIG_MCP3422=m
 CONFIG_TI_ADS1015=m
@@ -1325,6 +1326,9 @@ CONFIG_APDS9960=m
 CONFIG_BH1750=m
 CONFIG_TSL4531=m
 CONFIG_VEML6070=m
+CONFIG_IIO_HRTIMER_TRIGGER=m
+CONFIG_IIO_INTERRUPT_TRIGGER=m
+CONFIG_IIO_SYSFS_TRIGGER=m
 CONFIG_BMP280=m
 CONFIG_MAXIM_THERMOCOUPLE=m
 CONFIG_MAX31856=m
-- 
2.32.0

