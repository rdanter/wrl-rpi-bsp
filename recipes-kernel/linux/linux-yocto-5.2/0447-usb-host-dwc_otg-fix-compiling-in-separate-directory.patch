From 5da2d0997511f18eaec2552f6e11d71a5521883d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marek=20Beh=C3=BAn?= <marek.behun@nic.cz>
Date: Sat, 3 Aug 2019 14:38:54 +0200
Subject: [PATCH 447/587] usb: host: dwc_otg: fix compiling in separate
 directory
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The dwc_otg Makefile does not respect the O=path argument correctly:
include paths in CFLAGS are given relatively to object path, not source
path. Compiling in a separate directory yields #include errors.

Signed-off-by: Marek Beh√∫n <marek.behun@nic.cz>
---
 drivers/usb/host/dwc_otg/Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/usb/host/dwc_otg/Makefile b/drivers/usb/host/dwc_otg/Makefile
index 4872b8113b68..7ea65a6bcdb7 100644
--- a/drivers/usb/host/dwc_otg/Makefile
+++ b/drivers/usb/host/dwc_otg/Makefile
@@ -22,7 +22,7 @@ endif
 
 ccflags-y	+= -Dlinux -DDWC_HS_ELECT_TST
 #ccflags-y	+= -DDWC_EN_ISOC
-ccflags-y   	+= -I$(obj)/../dwc_common_port
+ccflags-y   	+= -I$(srctree)/drivers/usb/host/dwc_common_port
 #ccflags-y   	+= -I$(PORTLIB)
 ccflags-y   	+= -DDWC_LINUX
 ccflags-y   	+= $(CFI)
-- 
2.17.1

